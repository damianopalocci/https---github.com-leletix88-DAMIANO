<style>
    .text_white {
        color: rgb(160, 160, 160);
    }
    
    .text_white:hover {
        color: white;
    }
</style>



<div class="container-fluid py-4">
    <div class="row no-gutters justify-content-sm-center">

        <div class="col-xl-4 col-sm-6 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                        <i class="fa fa-user opacity-10" aria-hidden="true"></i>
                    </div>
                    <div class="text-end pt-1">
                        <p class="text-sm mb-0 text-uppercase font-weight-bold" style="color: #023e8a;">Log-In</p>
                        <h4 class="mb-0 text-uppercase">{{infologin.username}}</h4>
                    </div>
                </div>
                <div class="card-footer p-3">

                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-primary shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                        <i class="fa-solid fa-users opacity-10"></i>
                    </div>
                    <div class="text-end pt-1">
                        <p class=" mb-0 text-uppercase font-weight-bold" style="color: #023e8a; font-size: 13px;">
                            {{selCampo}} con Fatturato</p>
                        <h3 class="mb-0 text-uppercase mt-3">{{mydb.length}}</h3>
                    </div>
                </div>
                <div class="card-footer p-3">
                    <p class="mb-1"><span class="text-success text-sm font-weight-bolder"></span></p>
                </div>
            </div>
        </div>
        <div class="col-xl-5 col-md-12 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-success shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                        <i class="fas fa-euro-sign "></i>
                    </div>
                    <div class="row justify-content-center mt-md-5 mt-3 ">
                        <div class="col-12 col-sm-4  ">
                            <div class="text-end mt-1">
                                <p class=" mb-0 text-uppercase font-weight-bold" style="color: #023e8a; font-size: 16px;">budget</p>
                                <p style="font-size: 19px; font-weight: bold; color: #344767;" class="mb-0 text-uppercase">{{infologin.budget}}</p>
                            </div>
                        </div>
                        <div class="col-12 col-sm-4 ">
                            <div class="text-end mt-1">
                                <p class=" mb-0 text-uppercase font-weight-bold" style="color: #023e8a; font-size: 16px;">budget mese</p>
                                <p style="font-size: 19px; font-weight: bold; color: #344767;" class="mb-0 text-uppercase">{{infologin.budget/ 12 | number:2}}</p>
                            </div>

                        </div>
                        <div class="col-12 col-sm-4 ">
                            <div class="text-end mt-1">
                                <p class=" mb-0 text-uppercase font-weight-bold" style="color: #023e8a; font-size: 16px;">differenza</p>
                                <p style="font-size: 19px; font-weight: bold; color: red;" class="mb-0 text-uppercase">
                                    {{ tot_anno -((infologin.budget/ 12 ) * cmese) | number:2}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer p-1">
                    <p class="mb-0"><span class="text-success text-sm font-weight-bolder"></span></p>
                </div>
            </div>
        </div>

        <div class="col-xl-4 col-sm-6 mb-4">
            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-warning shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                        <i class="fas fa-euro-sign    "></i>
                    </div>
                    <div class="text-end pt-1">
                        <p class="fs-6 mb-0 text-uppercase font-weight-bold" style="color: #023e8a;">fatturato anno corrente
                        </p>
                        <h4 class="mb-0 text-uppercase">{{tot_anno| number:2}}</h4>
                        <small> Tradizionale :{{tot_anno_trad}} <br> Vending :{{tot_anno_vending}}</small>

                        <p class="fs-6 mb-0 text-uppercase font-weight-bold" style="color: #023e8a;">fatturato anno Precedente
                        </p>
                        <h4 class="mb-0 text-uppercase">{{tot_annop| number:2}}</h4>
                        <small> Tradizionale :{{tot_annop_trad}} <br> Vending :{{tot_annop_vending}}</small>
                        <p><span>{{ ((tot_anno - tot_annop)/tot_annop*100) | number:2}} %</span>
                            <span>{{ tot_anno - tot_annop | number:2}}€</span>
                        </p>

                    </div>
                </div>
                <div class="card-footer p-1">
                    <p class="mb-0"><span class="text-success text-sm font-weight-bolder"></span></p>
                </div>
            </div>
        </div>
        <div class="col-xl-4 col-sm-6 mb-4">

            <div class="card">
                <div class="card-header p-3 pt-2">
                    <div class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                        <i class="fas fa-euro-sign    "></i>
                    </div>
                    <div class="text-end pt-1">
                        <p class="fs-6 mb-0 text-uppercase font-weight-bold" style="color: #023e8a;">fatturato mese corrente
                        </p>
                        <h4 class="mb-0 text-uppercase">{{tot_mese| number:2}}</h4>
                        <small> Tradizionale :{{tot_mesi_tradizionale}} <br> Vending :{{tot_mesi_vending}}</small>
                        <p class="fs-6 mb-0 text-uppercase font-weight-bold" style="color: #023e8a;">fatturato mese Precedente
                        </p>
                        <h4 class="mb-0 text-uppercase">{{tot_mesep| number:2}}</h4>
                        <small> Tradizionale :{{tot_mesip_tradizionale}} <br> Vending :{{tot_mesip_vending}}</small>
                        <p><span>{{ ((tot_mese - tot_mesep)/tot_mesep*100) | number:2}} %</span>
                            <span>{{ tot_mese - tot_mesep | number:2}}€</span>
                        </p>

                    </div>
                </div>
                <div class="card-footer p-1">
                    <p class="mb-0"><span class="text-success text-sm font-weight-bolder"></span></p>
                </div>
            </div>
        </div>



    </div>

    <div class="row no-gutters justify-content-sm-center">
        <div class="col-md-3 text-center mt-3 ">
            <div class="card card-frame">
                <div class="card-body">
                    <div class="row no-gutters justify-content-center ">

                        <a href="" ng-click="getdataanno('CLIENTE','IMPNETTO','CLIENTE')" class=" btn btn-lg text_white" style="background-color: #2c7da0;" role="button" aria-pressed="true"><i
                                style="padding-right: 5px;" class="fa-solid fa-users"></i>Clienti</a>
                        <a href="" ng-click="getdatamese('CLIENTE','IMPNETTO','CLIENTE')" class="btn  btn-lg text_white" style="background-color: #2a6f97;" role="button" aria-pressed="true"><i
                                style="padding-right: 5px;" class="fa-solid fa-users"></i>Clienti
                            per
                            Mese</a>
                        <a href="" ng-click="getdataanno('CODART','IMPNETTO','CODART')" class="btn  btn-lg text_white" style="background-color: #014f86;" role="button" aria-pressed="true"><i
                                style="padding-right: 5px;" class="fa-solid fa-box-open"></i>Articoli</a>
                        <a href="" ng-click="getdataanno('NAZIONE','IMPNETTO','NAZIONE')" class="btn  btn-lg text_white" style="background-color: #01497c;" role="button" aria-pressed="true"><i
                                style="padding-right: 5px;" class="fa-solid fa-map-pin"></i>Zone</a>
                        <a href="" ng-click="getdataanno('MARCA','IMPNETTO','MARCA')" class="btn  btn-lg text_white" style="background-color: #012a4a;" role="button" aria-pressed="true"><i
                                style="padding-right: 5px;" class="fa-brands fa-bandcamp"></i>Marche</a>

                    </div>
                </div>
            </div>
        </div>



        <div class="col-md-9 mb-5 mt-3">



            <div class="card card-frame ">
                <div class="card-body p-3">

                    <div class="card card-frame" style="box-shadow: 3px 3px 3px 3px rgba(150, 150, 150, 0.315);">
                        <div class="card-body p-1">
                            <h5 style="color: #4e88e7;" class=" p-3 mx-2 mt-2 ">Report
                                <a href="" ng-click="ExportToExcel('xlsx')" class="btn bg-gradient-success btn-sm mx-4 mt-1 px-5" style="float: right;" role="button" aria-pressed="true">Exel</a>
                            </h5>
                        </div>
                    </div>

                    <div class="input-group input-group-outline mb-3 mt-3">
                        <label class="form-label">Ricerca</label>
                        <input type="text" class="form-control" ng-model="valricerca">
                    </div>
                    <div class="table-responsive rounded " style="box-shadow: 2px 2px 4px 4px rgba(128, 128, 128, 0.377);">
                        <table class="table align-items-center mb-0 text-center" id="tbl_exporttable_to_xls">
                            <thead class="text-center">
                                <tr>
                                    <th>
                                        <a style="cursor: pointer;" ng-click="orderByField='selCampo'; reverseSort = !reverseSort">
                                            {{selCampo}}<span ng-show="orderByField == 'selCampo'"><span
                                                    ng-show="!reverseSort"><i class="fas fa-arrow-up"></i>

                                                </span><span ng-show="reverseSort"><i class="fas fa-arrow-down"></i>

                                                </span></span>
                                        </a>
                                    </th>


                                    <th>
                                        <a style="cursor: pointer;" ng-click="orderByField=c2; reverseSort = !reverseSort">
                                            {{c2}}<span ng-show="orderByField == parseInt(c2)"><span
                                                    ng-show="!reverseSort"><i class="fas fa-arrow-up"></i>

                                                </span><span ng-show="reverseSort"><i class="fas fa-arrow-down"></i>

                                                </span></span>
                                        </a>
                                    </th>


                                    <th>
                                        <a style="cursor: pointer;" ng-click="orderByField=c1; reverseSort = !reverseSort">
                                            {{c1}}<span ng-show="orderByField == parseInt(c1)"><span
                                                    ng-show="!reverseSort"><i class="fas fa-arrow-up"></i>

                                                </span><span ng-show="reverseSort"><i class="fas fa-arrow-down"></i>

                                                </span></span>
                                        </a>
                                    </th>

                                    <th>
                                        <a style="cursor: pointer;" ng-click="orderByField=cy; reverseSort = !reverseSort">
                                            {{cy}}<span ng-show="orderByField == cy"><span ng-show="!reverseSort"><i
                                                        class="fas fa-arrow-up"></i>

                                                </span><span ng-show="reverseSort"><i class="fas fa-arrow-down"></i>

                                                </span></span>
                                        </a>
                                    </th>
                                    <th>
                                        <a style="cursor: pointer;" ng-click="orderByField='difference'; reverseSort = !reverseSort">
                                            Difference<span ng-show="orderByField == 'difference'"><span
                                                    ng-show="!reverseSort"><i class="fas fa-arrow-up"></i>

                                                </span><span ng-show="reverseSort"><i class="fas fa-arrow-down"></i>

                                                </span></span>
                                        </a>
                                    </th>


                                </tr>
                            </thead>
                            <tbody class="text-center">
                                <tr ng-repeat="el in mydb |  filter:valricerca | orderBy:orderByField:reverseSort">
                                    <td>
                                        <div class="d-flex px-2">
                                            <div class="my-auto">
                                                <h6 class="mb-0 text-xs">{{el[selCampo]}}</h6>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        {{el[c2]| number:2}}
                                    </td>
                                    <td>
                                        {{el[c1]| number:2}}
                                    </td>
                                    <td>
                                        {{el[cy]| number:2}}
                                    </td>
                                    <td>
                                        {{el.difference | number:2}}
                                    </td>


                                </tr>

                            </tbody>
                        </table>
                    </div>


                </div>
            </div>


        </div>


    </div>

</div>
</div>